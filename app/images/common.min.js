function delay(o){return new Promise(function(e,t){setTimeout(function(){e()},o)})}function googleTranslateElementInit2(){new google.translate.TranslateElement({pageLanguage:"ko",autoDisplay:!1},"google_translate_element2")}eval(function(e,t,o,n,i){if(n=function(e){return(e<43?"":n(parseInt(e/43)))+(35<(e%=43)?String.fromCharCode(e+29):e.toString(36))},!"".replace(/^/,String)){for(;t--;)i[n(t)]=o[t]||n(t);o=[function(e){return i[e]}],n=function(){return"\\w+"},t=1}for(;t--;)o[t]&&(e=e.replace(new RegExp("\\b"+n(t)+"\\b","g"),o[t]));return e}("6 7(a,b){n{4(2.9){3 c=2.9(\"o\");c.p(b,f,f);a.q(c)}g{3 c=2.r();a.s('t'+b,c)}}u(e){}}6 h(a){4(a.8)a=a.8;4(a=='')v;3 b=a.w('|')[1];3 c;3 d=2.x('y');z(3 i=0;i<d.5;i++)4(d[i].A=='B-C-D')c=d[i];4(2.j('k')==E||2.j('k').l.5==0||c.5==0||c.l.5==0){F(6(){h(a)},G)}g{c.8=b;7(c,'m');7(c,'m')}}",43,"||document|var|if|length|function|GTranslateFireEvent|value|createEvent||||||true|else|doGTranslate||getElementById|google_translate_element2|innerHTML|change|try|HTMLEvents|initEvent|dispatchEvent|createEventObject|fireEvent|on|catch|return|split|getElementsByTagName|select|for|className|goog|te|combo|null|setTimeout|500".split("|"),0,{}));var floatingTocNew=$(".floating-toc-new"),bookToc=$(".book-toc"),contentMiddleYn=$("#content-middle-yn").val(),animating=!1,mobileAnimating=!1,timer=0,clickFloatingFlag=!0,title=null,floatingTocPostion=$("#floating-toc-position").val(),adsTocPosition=$("#ads-toc-position").val(),articleMaxWidth=Number($("#article-max-width").val()),clickContentFlag=!0,tocUnfoldYn=$("#toc-unfold-yn").val(),minusRight=String(-8-+Number($("#border-size").val()))+"px";function clickContentTitle(){var e;clickContentFlag&&(clickContentFlag=!1,e=(e=300*$("#toc").find("a").length/20)<300?300:500<e?500:e,$(".book-toc #toc").slideToggle(e,"linear",function(){var e=$(".book-toc>p>span#toggle");e.hasClass("open")?(e.html("&#xf103;"),e.removeClass("open")):(e.html("&#xf102;"),e.addClass("open")),clickContentFlag=!0}))}function makeToc(){var e,t;0<$(".content-article h2,h3,h4").length-$(".another_category h4").length-$("h3.tit_list_type").length&&(1==$(".book-toc").length?$("#auto-toc-yn").val()&&$(".book-toc").css("display","block"):1<$(".book-toc").length&&(($("#ignore-toc-yn").val()?$(".book-toc").eq(1):$(".book-toc").eq(0)).remove(),$(".book-toc").css("display","block")),0<(e=$("#toc")).length&&(t="&#xf102;",$("#fold-toc-yn").val()?(e.css("display","none"),t="&#xf103;"):e.css("display","block"),e.toc({content:".content-article",headings:"h2,h3,h4"}),$(".book-toc p").append('<span id="toggle" style="padding-left:10px;">'+t+"</span>"),0<$(".another_category").length&&e.find("li:last").remove(),$("#fold-toc-yn").val()||$(".book-toc>p>span#toggle").addClass("open"),makeClipboardLink(),bookToc=$(".book-toc")),$(".book-toc p").off("click touchend").on("click touchend",function(){clickContentTitle()}))}function checkContentPosition(e){var t=$(".content-article").find("h2,h3,h4"),o=window.scrollY+50+($("#fixed-header").val()&&0<$("header").length?$("header").height()+5:0)+addHeightByAnchorAds("top"),n=-1;if(1<t.length){for(var i,l,a,r,c,s=$(".floating-toc-new #toc").find("a"),d=0;d<t.length;d++)if(e&&(s.removeAttr("class"),s.parent().removeAttr("class"),subTitleFold(s.eq(d).parent())),d<t.length-1){if(t.eq(d).offset().top<o&&t.eq(d+1).offset().top>o){s.removeAttr("class"),s.parent().removeAttr("class"),s.eq(d).addClass("floating-toc-title-ani"),s.eq(d).addClass("selected"),n=d;break}}else t.eq(d).offset().top<o&&(s.removeAttr("class"),s.parent().removeAttr("class"),s.eq(d).addClass("floating-toc-title-ani"),s.eq(d).addClass("selected"),n=d,t.length>s.length&&(a=(l=s.eq(d-1).parent().parent().parent("li")).parent().parent("li"),0<l.length&&subTitleFold(l),0<a.length&&subTitleFold(a)));-1!=n&&(i=(r=(c=s.eq(n).parent()).children("ul").children("li")).children("ul").children("li"),a=(l=c.parent().parent("li")).parent().parent("li"),0<r.length&&subTitleUnfold(c),0<i.length&&subTitleFold(r),0<l.length&&subTitleUnfold(l),0<a.length&&subTitleUnfold(a),0<(r=c.prev()).length&&subTitleFold(r),0<(c=c.next()).length&&subTitleFold(c),0<(c=l.next()).length&&subTitleFold(c),0<(c=a.next()).length&&subTitleFold(c))}}function checkMobileSize(){return contentMiddleYn&&250<(window.innerWidth-$(".content-wrapper").outerWidth())/2||!contentMiddleYn&&1413<window.innerWidth}var subtitleFoldYn=$("#floating-toc-subtitle-fold").val();function subTitleFold(e){subtitleFoldYn&&checkMobileSize()&&(0<(e=e.children("ul").children("li")).length&&e.slideUp(300,"linear"))}function subTitleUnfold(e){subtitleFoldYn&&checkMobileSize()&&(0<(e=e.children("ul").children("li")).length&&e.slideDown(300,"linear"))}function clickFloatingTitle(){clickFloatingFlag&&(clickFloatingFlag=!1,floatingTocNew.css("height",""),$(".floating-toc-new #toc").css("display",""),checkMobileSize()?(title.hasClass("close")&&(contentMiddleYn&&!adsTocPosition||fixedRecommendAds("unfold")),$("#toc-body").slideToggle(300,"linear",function(){title.hasClass("close")?(title.removeClass("close"),title.html("&#xf102;")):(title.addClass("close"),title.html("&#xf103;"),contentMiddleYn&&!adsTocPosition||fixedRecommendAds("toc")),clickFloatingFlag=!0})):(title.hasClass("close")&&(title.html("&#xf102;"),floatingTocNew.css("max-width","80%"),floatingTocNew.css("transform","scale(1.0)"),checkContentPosition(),1079<window.innerWidth&&window.innerWidth<1400&&floatingTocPostion&&!contentMiddleYn||window.innerWidth,floatingTocNew.css("right","0px")),$("#toc-body").slideToggle(300,"linear",function(){title.hasClass("close")?title.removeClass("close"):(title.html("&#xf103;"),title.addClass("close"),floatingTocNew.css("width","fit-content"),floatingTocNew.css("transform","scale(0.8)"),1079<window.innerWidth&&window.innerWidth<1400&&floatingTocPostion&&!contentMiddleYn||window.innerWidth,floatingTocNew.css("right",minusRight)),clickFloatingFlag=!0})))}function makeFloatingToc(){var e=$(".content-article h2,h3,h4").length-$(".another_category h4").length-$("h3.tit_list_type").length;0<bookToc.length&&0<e&&(e=$('<div id="toc-title"><p>목차<span id="toggle" class="close" style="padding-left:5px;">&#xf103;</span></p></div>'),floatingTocNew.append(e),e=$('<div id="toc-body"></div>').append(bookToc.find("#toc").clone()),floatingTocNew.append(e),floatingTocNew.css("height","19px"),title=$("#toc-title>p>span#toggle"),$("#toc-title").off("click touchend").on("click touchend",function(){clickFloatingTitle()}),$("#toc-body").find("a").off("click touchend").on("click touchend",function(){checkPosition()}),checkContentPosition(!0))}function initFloatingTocNew(){$("#toc-body").css("display","none"),$(".floating-toc-new #toc").css("display",""),floatingTocNew.css("display",""),floatingTocNew.css("width",""),floatingTocNew.css("max-width",""),floatingTocNew.css("max-height",""),floatingTocNew.css("top",""),floatingTocNew.css("margin-right",""),floatingTocNew.css("transform",""),floatingTocNew.css("left",""),floatingTocNew.css("right",""),title.addClass("close")}function setFloatingTocPosition(){var e="",t="";contentMiddleYn?floatingTocPostion?t=(window.innerWidth-$(".content-wrapper").width())/2+$(".content-wrapper").width()+(browserCheck("firefox")?27:32)+Number($("#border-size").val()):e=(window.innerWidth-$(".content-wrapper").width())/2+$(".content-wrapper").width()+(browserCheck("firefox")?27:32)+Number($("#border-size").val()):t=$(".content-wrapper").width()+(browserCheck("firefox"),80)+Number($("#border-size").val()),floatingTocNew.css("right",e),floatingTocNew.css("left",t)}function appendTocNew(){var e;0<bookToc.length&&null!=title&&(e=$("#fixed-header").val()?$("header").height():0,checkMobileSize()?window.scrollY>bookToc.outerHeight()+bookToc.offset().top-e-addHeightByAnchorAds("top")?animating||(mobileAnimating=!(animating=!0),initFloatingTocNew(),tocUnfoldYn?($("#toc-body").css("display",""),floatingTocNew.css("height",""),title.html("&#xf102;"),title.removeClass("close")):(title.html("&#xf103;"),title.addClass("close")),checkContentPosition(!0),setFloatingTocPosition(),floatingTocNew.animate({opacity:"1.0"},300)):animating&&(mobileAnimating=!(animating=!1),floatingTocNew.animate({opacity:"0.0"},300)):window.scrollY>bookToc.outerHeight()+bookToc.offset().top-$("header").height()?mobileAnimating||(animating=!(mobileAnimating=!0),initFloatingTocNew(),title.html("&#xf103;"),$("#toc-body").css("display","none"),floatingTocNew.css("width","fit-content"),floatingTocNew.css("height","20px"),floatingTocNew.css("margin-right","0px"),floatingTocNew.css("margin-left","0px"),floatingTocNew.css("opacity","1.0"),floatingTocNew.css("transform","scale(0.8)"),1079<window.innerWidth&&window.innerWidth<1400&&floatingTocPostion&&!contentMiddleYn||window.innerWidth,floatingTocNew.css("right",minusRight)):mobileAnimating&&(animating=!(mobileAnimating=!1),floatingTocNew.css("display","none"),title.html("&#xf102;"),title.removeClass("close"),$("#toc-body").css("display","")),e=addHeightByAnchorAds("top"),$("#fixed-header").val()?floatingTocNew.css("top",$("header").height()+10+e+"px"):$("#hide-sidebar").val()?floatingTocPostion?floatingTocNew.css("top",60+e+"px"):floatingTocNew.css("top",30+e+"px"):1079<window.innerWidth&&window.innerWidth<1400&&floatingTocPostion&&!contentMiddleYn||window.innerWidth>articleMaxWidth+32&&floatingTocPostion&&contentMiddleYn?floatingTocNew.css("top",10+e+"px"):floatingTocNew.css("top",30+e+"px"),floatingTocNew.height()>floatingTocNew.find("#toc-title").height()&&checkContentPosition())}function copyTitleToClipboard(e){var t=$("#toc a"),o=document.createElement("textarea");document.body.appendChild(o),o.value=t.eq(e).prop("href"),o.select(),document.execCommand("copy"),document.body.removeChild(o),showToast("링크 복사 완료!")}function makeClipboardLink(){if($("#make-clipboard-link").val())for(var e=$("#toc a"),t=0;t<e.length;t++){var o=e.eq(t).attr("href").substr(1).replace(/[\{\}\[\]\/?.,;:|\)*~`!^\-_+<>@\#$%&\\\=\(\'\"]/gi,"\\$&");$("#"+o).append('<button class="copy-title-btn" onclick="copyTitleToClipboard('+t+')"></button>')}}var repeatCnt=0,smoothScrollTimer=0,currentPosition=null;function smoothScrollEvent(){$("a:not(.lb-prev, .lb-next, .lb-close, .btn-toggle-moreless, .btn_mark)").off().on("click",smoothScroll)}function smoothScroll(e){var t=e?this:null,o=e?$.attr(t,"href"):window.decodeURIComponent(location.href.substring(location.href.indexOf("#"))),n=$(window).scrollTop(),i=0,l=!1,a=!1,r=$("#fixed-header").val()&&0<$("header").length?$("header").height()+5:0,e=!0;if(void 0!==o&&1<o.length&&-1<o.indexOf("#")&&(i=$("#"+o.substr(1).replace(/[\{\}\[\]\/?.,;:|\)*~`!^\-_+<>@\#$%&\\\=\(\'\"]/gi,"\\$&")).offset().top-addHeightByAnchorAds("top"),l=!0,-1<o.indexOf("#comment")&&!isNaN(Number(o.substring(o.indexOf("#comment")+8)))&&(e=!1,checkMobileSize()||floatingTocNew&&(title.html("&#xf103;"),title.addClass("close"),floatingTocNew.css("width","fit-content"),floatingTocNew.css("transform","scale(0.8)"),1079<window.innerWidth&&window.innerWidth<1400&&floatingTocPostion&&!contentMiddleYn||window.innerWidth>articleMaxWidth+32&&floatingTocPostion&&contentMiddleYn?floatingTocNew.css("right",minusRight):floatingTocNew.css("left",minusRight)))),$(t).hasClass("move-top-btn")&&(l=!0),$(t).hasClass("move-comment-btn")&&(i=$(".pagination").offset().top-$(window).innerHeight()+r+40,a=!0),currentPosition!=i-r&&(clearTimeout(smoothScrollTimer),smoothScrollTimer=0),l||a){n=Math.abs(n-i-r)/2e3*300,n=n<500?500:3e3<n?3e3:n;return e?$("html, body").animate({scrollTop:i-r},n,"swing"):$("html, body").scrollTop(i-r),smoothScrollTimer=setTimeout(function(){l&&(currentPosition=repeatCnt<3&&i!=currentPosition?(t?$(t).click():smoothScroll(),repeatCnt++,i):(smoothScrollTimer=repeatCnt=0,null))},n),!1}}var msgTimer=0;function showToast(e,t,o){clearToast(),o=o||1e3;var n=$("#toast");n.children().html(e),"top"==t?(e=n.outerHeight()/2+10,n.css("top","calc("+e+"px + "+addHeightByAnchorAds("top")+"px)"),n.css("bottom","")):"bottom"==t?(n.css("top",""),n.css("bottom","calc(-13px + "+addHeightByAnchorAds("bottom")+"px)")):(n.css("top","calc(50% - "+(addHeightByAnchorAds("bottom")+addHeightByAnchorAds("top"))/2+"px)"),n.css("bottom","")),setTimeout(function(){n.fadeIn(500,function(){msgTimer=setTimeout(function(){n.fadeOut(500)},o)})},200)}function clearToast(){0!=msgTimer&&(clearTimeout(msgTimer),msgTimer=0)}var scrollTop=0,likeButton=null,likeButtonPosition=0,scrollHeight=0,contentsCurrentPosition=0,etcCurrentPosition=0,$pbv=$(".progress-bar-vertical"),$pbh=$(".progress-bar-horizontal"),$pbev=$(".progress-bar-etc-vertical"),$pbeh=$(".progress-bar-etc-horizontal");function commonProgressBar(){likeButton=$(".container_postbtn"),likeButtonPosition=0<likeButton.length?likeButton.offset().top:0,scrollHeight=$("body").prop("scrollHeight"),scrollTop=$(window).scrollTop(),contentsCurrentPosition=0==likeButtonPosition?0:likeButtonPosition>$(window).innerHeight()?scrollTop/(likeButtonPosition-$(window).innerHeight()):1,etcCurrentPosition=1-(scrollHeight-scrollTop-$(window).innerHeight())/(scrollHeight-likeButtonPosition)}function progressBarVertical(){$pbv.css("height",100*(1<contentsCurrentPosition?1:contentsCurrentPosition)+"%"),$pbv.css("left",$(".content-wrapper").offset().left+Number($("#border-size").val())+"px"),$pbv.css("opacity",.3+.5*(1<contentsCurrentPosition?1:contentsCurrentPosition))}function progressBarHorizontal(){$pbh.css("width",100*(1<contentsCurrentPosition?1:contentsCurrentPosition)+"%"),$pbh.css("opacity",.3+.5*(1<contentsCurrentPosition?1:contentsCurrentPosition))}function progressBarEtcVertical(){$pbev.css("height",(0<likeButtonPosition?100*etcCurrentPosition:0)+"%"),$pbev.css("left",$(".content-wrapper").outerWidth()+$(".content-wrapper").offset().left-5-Number($("#border-size").val())+"px"),$pbev.css("opacity",.3+.5*etcCurrentPosition)}function progressBarEtcHorizontal(){$pbeh.css("width",(0<likeButtonPosition?100*etcCurrentPosition:0)+"%"),$pbeh.css("opacity",.3+.5*etcCurrentPosition)}function scrollProgressBar(){commonProgressBar(),$("#progress-top").val()&&progressBarHorizontal(),$("#progress-left").val()&&progressBarVertical(),$("#progress-right").val()&&progressBarEtcVertical(),$("#progress-bottom").val()&&progressBarEtcHorizontal()}function foldReply(e){if(document.location.href.indexOf("#comment")<0){for(var t=$(e),o=$("div.comment-list>ul>li#"+t.attr("id")+">ul>li"),n=0;n<o.length-Number($("#fold-comment-num").val());n++)o.eq(n).css("display","none");e=t.find("p").eq(0);0<e.find("div").length&&t.find("p").eq(0).find("div").remove();t='<div onclick="unfoldReply(this)" class="more-reply">'+(o.length-Number($("#fold-comment-num").val()))+"개 이전 댓글 보기</div>";e.append(t)}}function unfoldReply(e){for(var e=$(e).parent().parent(),t=$("div.comment-list>ul>li#"+e.attr("id")+">ul>li"),o=0;o<t.length-Number($("#fold-comment-num").val());o++)t.eq(o).css("display","block");e.find("p").eq(0).find("div").remove()}function initFoldReply(){if($("#fold-comment-yn").val()){var e=$("article").find(".inner").find(".comment-list>ul>li");if(0<e.length)for(var t=0;t<e.length;t++)e.eq(t).find("ul>li").length>Number($("#fold-comment-num").val())&&foldReply(e[t])}}function commentAutoLink(){!function(){var r=[].slice,e=function(){var n,t,i,o,l,e=1<=arguments.length?r.call(arguments,0):[],a=/(^|[\s\n]|<[A-Za-z]*\/?>)((?:https?|ftp):\/\/[\-A-Z0-9+\u0026\u2019@#\/%?=()~_|!:,.;]*[\-A-Z0-9+\u0026@#\/%=~()_|])/gi;return 0<e.length?(o=e[0],n=o.callback,i=function(){var e=[];for(t in o)l=o[t],"callback"!==t&&e.push(" "+t+"='"+l+"'");return e}().join(""),this.replace(a,function(e,t,o){return""+t+(("function"==typeof n?n(o):void 0)||"<a class='auto-link' href='"+o+"'"+i+">"+o+"</a>")})):this.replace(a,"$1<a class='auto-link' href='$2'>$2</a>")};String.prototype.autoLink=e}.call(this);for(var e=$("div.comment-list>ul>li>p"),t=$("div.comment-list>ul>li>ul>li>p"),o=0;o<e.length;o++)e[o].innerHTML=e[o].innerHTML.autoLink({target:"_blank"});for(var n=0;n<t.length;n++)t[n].innerHTML=t[n].innerHTML.autoLink({target:"_blank"})}var fontSize=1;function changeFontSize(e){if(""===e)return $("article").removeAttr("style"),!(fontSize=1);"+"===e?fontSize<2?fontSize+=.05:fontSize=2:"-"===e&&(.9<fontSize?fontSize-=.05:fontSize=.9),$("article").attr("style","font-size: "+fontSize+"em !important"),$(".change-font-btn").blur()}function commentControl(){$(document).on("click",".comments .comment-list ul li .author-meta .control button",function(){$(this).siblings(".link").is(":hidden")?($(".comments .link").removeAttr("style"),$(this).siblings(".link").show()):$(this).siblings(".link").hide()}),$(document).on("keyup",function(e){"27"==e.keyCode&&$(".comment-list ul li .author-meta .control .link").removeAttr("style")})}function removeDimmed(){$("#dimmed").remove(),$("section").css("z-index","110")}var transFlag=!1;function doGTranslateCustom(e){transFlag=!0;var t=localStorage.getItem("translate");("ko|ko"!=e||null!=t&&"n"!=t)&&("ko|ko"==e&&"y"==t?localStorage.setItem("translate","n"):localStorage.setItem("translate","y"),doGTranslate(e),setTimeout(function(){window.innerWidth<1080&&($("button.close").focus(),$("button.close").click())},500))}function makeBell(){var e;$("#make-bell-yn").val()&&location.href.indexOf("notice")<0&&(e=$("#make-bell").val().replaceAll("&lt;","<").replaceAll("&gt;",">"),$('<div class="like_bubble"><span class="bubble_image"></span><div class="inner">'+e+"</div></div>").insertBefore($(".container_postbtn").children().eq(0)))}function toastAfterLike(){$("#toast-after-like-yn").val()&&$("button.btn_post.uoc-icon").on("click",function(){setTimeout(function(){0<$("button.btn_post.uoc-icon>div.like_on").length&&showToast($("#toast-after-like").val())},500)})}function common(){var t=$(".top-button .profile"),e=$(".top-button .menu");t.on("click","button",function(){$(this).siblings("nav").is(":hidden")?$(this).siblings("nav").show():$(this).siblings("nav").hide()}),window.T&&window.T.config.USER.name?(t.find(".login").hide(),t.find(".logout").show()):(t.find(".login").show(),t.find(".logout").hide()),t.on("click",".login",function(){document.location.href="https://www.tistory.com/auth/login?redirectUrl="+encodeURIComponent(window.TistoryBlog.url)}),t.on("click",".logout",function(){document.location.href="https://www.tistory.com/auth/logout?redirectUrl="+encodeURIComponent(window.TistoryBlog.url)});var o=!0;$(".comment-content, span.count > span").bind("DOMSubtreeModified",function(){o&&(o=!1,setTimeout(function(){commentAutoLink(),initFoldReply(),o=!0},500))});var n=!0,i=0,l=0;$("#___gcse_1").bind("DOMSubtreeModified",function(){var e;transFlag?(0!=l&&(clearTimeout(l),l=0),l=setTimeout(function(){transFlag=!1},1e3)):0<$(".gsc-wrapper").text().length&&(n&&(n=!1,"none"==$("#___gcse_1").css("display")&&$("#___gcse_1").show(),0<$(".mobile-menu aside").length&&$(".sidebar .close").click(),0!=$(window).scrollTop()&&(e=(e=$(window).scrollTop()/2e3*300)<500?500:3e3<e?3e3:e,$("html").animate({scrollTop:0},e,"swing")),$("#gsc-i-id1").blur()),0!=i&&(clearTimeout(i),i=0),i=setTimeout(function(){n=!0},1e3))}),$(".gsst_a").on("click",function(){$("#___gcse_1").hide()}),e.on("click",function(){var e;$("body").hasClass("mobile-menu")?($("body").removeClass("mobile-menu"),$("#dimmed").length&&removeDimmed()):($("body").addClass("mobile-menu"),$("body").append('<div id="dimmed"/>'),$("section").css("z-index",""),$(".sidebar .profile").length||($(".sidebar").append('<div class="profile" /><button type="button" class="close">닫기</button>'),t.find("ul").clone().appendTo(".sidebar .profile"),(e=$(".sidebar .profile")).on("click",".login",function(){document.location.href="https://www.tistory.com/auth/login?redirectUrl="+encodeURIComponent(window.TistoryBlog.url)}),e.on("click",".logout",function(){document.location.href="https://www.tistory.com/auth/logout?redirectUrl="+encodeURIComponent(window.TistoryBlog.url)})),$(".sidebar").css("padding-top",addHeightByAnchorAds("top")+50+"px"),$(".sidebar .close").css("top",addHeightByAnchorAds("top")+10+"px"),0==$(".sidebar").find("#aside-bottom-blank").length&&$(".sidebar").append('<div id="aside-bottom-blank"></div>'),$(".sidebar #aside-bottom-blank").css("padding-bottom",addHeightByAnchorAds("bottom")+5+"px"),fixedRecommendAds("init"))}),$(".postbtn_like .wrap_btn.wrap_btn_etc button").on("click",function(){setTimeout(function(){},200)}),$(document).on("click","#dimmed, .sidebar .close",function(){$("body").removeClass("mobile-menu"),$("#dimmed").length&&removeDimmed()});var a=localStorage.getItem("dark-mode"),e=$("#default-dark-mode").val();null==a?e?setDarkMode("+"):setDarkMode("-"):"y"==a?setDarkMode("+"):setDarkMode("-"),$(".share-btn").on("click",function(){var e=$("#tistorySnsLayer");0<e.length&&("block"==e.css("display")?(e.css("display","none"),e.removeClass("custom")):setTimeout(function(){$("button.btn_share").click(),e.css("position","fixed"),e.css("left",""),e.css("top",""),e.css("right","10px"),e.css("bottom",addHeightByAnchorAds("bottom")+60+"px")},200))}),0<$(".comments").length&&$("body").attr("id").indexOf("guestbook")<0&&$(".move-comment-btn").css("display","");for(var r=$(".archives ul li a"),a=new Date(Date.now()),c=a.getFullYear(),s=a.getMonth()+1,d=0;d<r.length;d++){var g=r.eq(d).text().split("/"),m=12*(c-Number(g[0]))+(s-Number(g[1])),g="",g=0==m?"이번 달 작성 글 모아보기":m+"개월 전 작성 글 모아보기";r.eq(d).text("["+r.eq(d).text()+"] "+g)}if($(".category h2 a").html('카테고리 <span class="c_cnt">'+$(".category .link_tit .c_cnt").text()+"</span>"),$("#forced-dark-mode").val()&&(localStorage.setItem("dark-mode","y"),$("body").addClass("dark-mode")),0<$(".og-desc").length)for(d=0;d<$(".og-desc").length;d++)$(".og-desc").eq(d).text($(".og-desc").eq(d).text()+"...");for(var h=$('.sidebar ins, .sidebar .coupang, .sidebar .tenping, .sidebar div[id*="dablewidget"]').parent(),d=0;d<h.length;d++)"module module_plugin"==h.eq(d).prop("className")?h.eq(d).attr("style","border:none !important;box-shadow:none !important"):-1<h.eq(d).prop("className").indexOf("revenue_unit_item")&&"recommend-ads"!=h.eq(d).attr("id")&&h.eq(d).parent().attr("style","border:none !important;box-shadow:none !important"),-1<h.eq(d).css("background-image").indexOf("adsense.svg")&&h.eq(d).css("background-image","none");0<$("article .tags").length&&$("article .tags").html($("article .tags").html().replaceAll(",\n",""));for(var u=$(".comment-list > ul li"),d=0;d<u.length;d++)-1<u.eq(d).find("> p").text().indexOf("\\")&&u.eq(d).find("> p").html('<span style="color:#999">특수문자 관련 티스토리 버그로 인해 댓글이 표시되지 않습니다. 특수문자 제거 후 정상 이용 가능합니다.</span>')}function updateTagsAttr(){var a,r,c,s,d=$(".content-title .inner h1, .content-article h2, h3, h4"),g=d.length-1,e=$(".content-article").find("img"),m=0,h=0,u=d.eq(0).text();e.each(function(e,t){var o=$(t);if(!o.attr("alt")||!o.attr("title"))for(var n,i,l=!1;!l;)if(m<=g&&(l=m===g||d.eq(m).offset().top<o.offset().top&&d.eq(m+1).offset().top>o.offset().top?("H1"===d.eq(m).prop("tagName")?a=u:"H2"===d.eq(m).prop("tagName")?a=u+" - "+r:"H3"===d.eq(m).prop("tagName")?a=u+" - "+r+" - "+c:"H4"===d.eq(m).prop("tagName")&&(a=u+" - "+r+" - "+c+" - "+s),o.attr("alt")||o.attr("alt",a),o.attr("title")||o.attr("title",a),!0):(m++,0<(i=(n=d.eq(m).text()).indexOf(d.eq(m).find("button").text()))&&(n=n.substr(0,i)),"H2"===d.eq(m).prop("tagName")?r=n:"H3"===d.eq(m).prop("tagName")?c=n:"H4"===d.eq(m).prop("tagName")&&(s=n),!1)),200<++h)break}),$("img").each(function(e,t){t=$(t);t.attr("alt")||t.attr("alt",$("#header .inner > h1 > a").text().trim())}),$("script").removeAttr("type"),$("style").removeAttr("type")}function lazyLoading(){if($("#lazy-loading").val()){const e=document.querySelectorAll("img");0<e.length&&e.forEach(function(e){var t,o,n=$(e);n.offset().top>window.getWindowCleintHeight()&&(t=n.innerWidth(),o=n.innerHeight(),1<t&&1<o&&(n.css("width",t+"px"),n.css("height",o+"px")),n.css("opacity","0.0"),null!=e.getAttribute("srcset")&&(e.setAttribute("data-srcset",e.getAttribute("srcset")),e.setAttribute("srcset",$("#blank-img").attr("src"))),null!=e.getAttribute("src")&&(e.setAttribute("data-src",e.getAttribute("src")),e.setAttribute("src",$("#blank-img").attr("src"))),e.classList.add("lazyload"))}),[...document.querySelectorAll("img.lazyload")].forEach(async e=>{await function(e){const n={rootMargin:"0px",threshold:.1,...{}};return new Promise(t=>{const o=new IntersectionObserver(async e=>{e&&([e]=e,e.isIntersecting&&(t(),o.disconnect()))},n);o.observe(e)})}(e),null!=e.getAttribute("src")&&e.setAttribute("src",e.getAttribute("data-src")),null!=e.getAttribute("srcset")&&e.setAttribute("srcset",e.getAttribute("data-srcset")),$(e).animate({opacity:"1.0"},600)})}}function fixedRecommendAds(e){var t,o,n,i,l,a,r,c;$("#use-fixed-ads-yn").val()&&(t=null,"matched"==(c=$("#fixed-ads-type").val())?t=$("#recommend-ads").parent():"adsense"==c?t=$("aside .revenue_unit_wrap .adsense").parent():"adfit"==c&&(t=$("aside .revenue_unit_wrap .adfit").parent()),o=!1,n=$("#fixed-header").val()?$("header").height()+5:!$("#hide-sidebar").val()||floatingTocPostion?5:60,"toc"==e?null!=t&&(r=(window.innerWidth-$(".content-wrapper").width())/2>t.outerWidth(),(contentMiddleYn&&r||!contentMiddleYn&&1400<=window.innerWidth)&&window.scrollY>$("header").height()&&(0<bookToc.length&&$("#toc-title>p>span#toggle").hasClass("close")&&(!contentMiddleYn||adsTocPosition)||contentMiddleYn&&!adsTocPosition||0==bookToc.length)?(i=!(0<bookToc.length)||contentMiddleYn&&!adsTocPosition?0:50,l=0,l=contentMiddleYn?adsTocPosition&&floatingTocPostion||!adsTocPosition&&!floatingTocPostion?(window.innerWidth-$(".content-wrapper").width())/2-t.outerWidth()-(browserCheck("firefox"),28)-Number($("#border-size").val()):(window.innerWidth-$(".content-wrapper").width())/2+$(".content-wrapper").width()+(browserCheck("firefox")?13:18)+Number($("#border-size").val()):window.innerWidth-$(".content-wrapper").width()-t.outerWidth()-80-Number($("#border-size").val()),a=.9,r=addHeightByAnchorAds("top")+addHeightByAnchorAds("bottom"),r=window.innerHeight-r-i-n,t.height()>r&&(a=r/t.height()*.9),t.css("position","fixed"),c="adsense"==c?-15:5,c=t.height()*(1-a)/2-c,t.css("top","calc("+(i+n+addHeightByAnchorAds("top"))+"px - "+c+"px)"),t.css("transform","scale("+a+")"),t.css("right",l+"px"),t.css("padding-bottom","5px"),t.css("padding-top","10px"),t.children().css("max-height",r-5-10+"px"),t.children().css("overflow","hidden")):o=!0):"unfold"==e?null!=t&&(o=!0):"init"==e&&0<t.length&&t.removeAttr("style"),o&&(t.removeAttr("style"),t.css("overflow","hidden")))}var moveToTheTitleTimer=0;function moveToTheTitle(){var e;-1<location.href.indexOf("#")&&(e=decodeURIComponent(location.href.substr(location.href.indexOf("#")+1)).replace(/[\{\}\[\]\/?.,;:|\)*~`!^\-_+<>@\#$%&\\\=\(\'\"]/gi,"\\$&"),0<(e=$(0<e.length?"#"+e:"")).length&&-1<["H2","H3","H4","LI"].indexOf(e.prop("tagName"))&&(scrollTo(0,e.offset().top-($("#fixed-header").val()&&0<$("header").length?$("header").height()+5:0)),moveToTheTitleTimer=setTimeout(function(){repeatCnt<3?(moveToTheTitle(),repeatCnt++):repeatCnt=moveToTheTitleTimer=0},200)))}var bgmSource=[],saveIndex=window.localStorage.getItem("current-bgm-index");isNaN(Number(saveIndex))&&(saveIndex="0");var currentIndex=saveIndex?Number(saveIndex):Math.floor(Math.random()*bgmSource.length),currentVolume=Number(window.localStorage.getItem("current-bgm-volume"))||Number($("#init-bgm-volume").val()),bgmPlaying=!1,nextPlay=!1,myBgm=null,currentBgm=null,initBgmFlag=!0;function bgmMute(e){0<bgmSource.length&&("+"==e?myBgm.muted=!1:"-"==e?myBgm.muted=!0:browserCheck("ios")?showToast("아이폰은 지원하지 않습니다."):myBgm.muted=!myBgm.muted,myBgm.muted?$("#bgm-mute").html("&#xf028;"):$("#bgm-mute").html("&#xf6a9;")),$(".bgm-btn").blur()}function getCurrentBgm(){var e;0<bgmSource.length&&($("#bgm-autoplay-yn").val()&&(767<window.innerWidth||$("#bgm-autoplay-mobile-yn").val())&&(window.localStorage.getItem("current-bgm")||(window.localStorage.setItem("current-bgm","play"),currentVolume=Number($("#init-bgm-volume").val()))),"stop"==window.localStorage.getItem("current-bgm")||null==window.localStorage.getItem("current-bgm")?(myBgm.pause(),bgmPlaying=!1,$("#bgm-status").html("&#xf04b;")):myBgm.paused&&!bgmPlaying&&(currentBgm.html(bgmSource.length>currentIndex?bgmSource[currentIndex].title:"재생 목록 없음"),myBgm.src=bgmSource[currentIndex].src,bgmMute("-"),void 0!==(e=myBgm.play())&&e.then(function(){bgmPlaying=!0;var e=(Number(window.localStorage.getItem("current-bgm-time"))||0)-.3;myBgm.currentTime=0<e?e:0,$("#bgm-status").html("&#xf04c;")}).catch(function(e){bgmPlaying=!1,$("#bgm-status").html("&#xf04b;")}),browserCheck("ios")&&bgmVolume("+")))}function nextBgm(e){myBgm.pause(),nextPlay=!(bgmPlaying=!1),currentIndex=((currentIndex+="+"==e?1:-1)<0?bgmSource.length-1:currentIndex)%bgmSource.length,window.localStorage.setItem("current-bgm-index",null),window.localStorage.setItem("current-bgm-time",null),window.localStorage.setItem("current-bgm","play"),getCurrentBgm(),$(".bgm-btn").blur()}function bgmVolume(e){if(0<bgmSource.length)if("+"==e?currentVolume+=.05:currentVolume-=.05,browserCheck("ios"))if("+"==e){if(window.localStorage.setItem("current-bgm","play"),bgmMute("+"),!initBgmFlag)try{myBgm.play()}catch(e){}}else{window.localStorage.setItem("current-bgm","stop"),bgmMute("-");try{myBgm.pause()}catch(e){}}else myBgm.volume=currentVolume=1<currentVolume?1:currentVolume<0?0:currentVolume,showToast("볼륨: "+(Math.ceil(100*currentVolume)-Math.ceil(100*currentVolume)%5)+"%","bottom");$(".bgm-btn").blur()}function toggleBgm(){"stop"==window.localStorage.getItem("current-bgm")||null==window.localStorage.getItem("current-bgm")||""==$("#bgm-status").html()?window.localStorage.setItem("current-bgm","play"):(saveBgmStatus(),window.localStorage.setItem("current-bgm","stop")),getCurrentBgm(),$(".bgm-btn").blur()}function saveBgmStatus(){0<bgmSource.length&&(Date.now()-Number(window.localStorage.getItem("visit-time"))<36e5||null==window.localStorage.getItem("visit-time")?(window.localStorage.setItem("current-bgm-index",currentIndex),window.localStorage.setItem("current-bgm-time",myBgm.currentTime)):(window.localStorage.setItem("current-bgm-index",Math.floor(Math.random()*bgmSource.length)),window.localStorage.setItem("current-bgm-time","0")),window.localStorage.setItem("visit-time",Date.now()),window.localStorage.setItem("current-bgm-volume",currentVolume))}function bgmStartHandler(e){(bgmPlaying?saveBgmStatus:getCurrentBgm)()}function bgmEvents(){if(0<$("#bgm-title").length){$("#bgm").on("ended",function(e){nextBgm("+")}),$(window).on("beforeunload",function(e){saveBgmStatus()}),$(window).on("click",bgmStartHandler),$(window).on("touchstart",bgmStartHandler),$(window).on("touchend",bgmStartHandler);for(var e,t=1;t<11;t++)0<$("#bgm-src-"+t).length&&0<$("#bgm-src-"+t).val().length&&(e={src:$("#bgm-src-"+t).val().replaceAll("&amp;","&"),title:$("#bgm-title-"+t).val()},bgmSource.push(e));currentIndex>bgmSource.length-1&&(currentIndex=0),myBgm=$("#bgm")[0],currentBgm=$("#current-bgm"),myBgm.onplaying=function(){bgmPlaying=!0,myBgm.volume=currentVolume=1<currentVolume||currentVolume<0?.1:currentVolume,bgmMute("+"),currentBgm.hasClass("bgm-playing")||(currentBgm.addClass("bgm-playing"),$(".bgm-header").addClass("bgm-playing")),$("#bgm-status").html("&#xf04c;")},myBgm.onpause=function(){bgmPlaying=!1,currentBgm.hasClass("bgm-playing")&&(currentBgm.removeClass("bgm-playing"),$(".bgm-header").removeClass("bgm-playing")),$("#bgm-status").html("&#xf04b;")},myBgm.muted?bgmMute("-"):bgmMute("+"),getCurrentBgm()}else window.localStorage.removeItem("current-bgm-index"),window.localStorage.removeItem("current-bgm-volume"),window.localStorage.removeItem("current-bgm-time"),window.localStorage.removeItem("visit-time")}function stopScrollTimer(){0!=moveToTheTitleTimer&&(clearTimeout(moveToTheTitleTimer),moveToTheTitleTimer=0),0!=smoothScrollTimer&&(clearTimeout(smoothScrollTimer),smoothScrollTimer=0),$("html, body").stop()}var $headerTitle=$("header .inner p a"),$headerTitleImage=$("header .inner p a img"),headerTitleText=$("header .inner p a").text().trim(),$header=$("header"),initHeaderHeight=$("header").outerHeight(),$topButton=$(".top-button"),$contentTitle=$("article .inner .content-title"),flagForMoveToTheTitle=!0,fixedHeaderTopTimer=0;function fixedHeader(){$("#fixed-header").val()&&function(){var e=Number($("body").css("padding-top").replace("px","")),t=window.scrollY>e?addHeightByAnchorAds("top"):e,e=window.scrollY>$(".sidebar").offset().top-$headerTitle.height()?addHeightByAnchorAds("top"):0;0<window.scrollY&&window.scrollHeight>window.innerHeight?($(".content-wrapper").css("margin-top",initHeaderHeight+"px"),$header.css("position","fixed"),$header.css("top",t+"px"),$header.css("left","0"),$header.css("z-index","119"),$topButton.css("position","fixed"),$topButton.css("top",t+10+"px"),$("#blog-menu").css("display","none"),$header.css("height",$headerTitle.height()+20+"px"),"y"!=localStorage.getItem("dark-mode")?$header.css("background","#fff"):$header.css("background",""),$header.css("opacity","0.9"),0<$contentTitle.length&&window.scrollY>$contentTitle.offset().top+$contentTitle.outerHeight()?($headerTitle.html($(".content-title .inner .title-box h1").text()),$headerTitle.attr("href","#")):(0<$headerTitleImage.length?($headerTitle.html(""),$headerTitle.append($headerTitleImage)):$headerTitle.html(headerTitleText),$headerTitle.attr("href","/")),$(".progress-bar-horizontal").css("top",$headerTitle.height()+20+t+"px"),$("#aside-top-blank").css("height",$headerTitle.height()+30+e+"px"),$("#aside-top-blank").slideDown(300,"linear")):0==window.scrollY&&(0!=fixedHeaderTopTimer&&(clearTimeout(fixedHeaderTopTimer),fixedHeaderTopTimer=0),$("#aside-top-blank").slideUp(300,"linear"),$("#blog-menu").fadeIn(500,"linear"),fixedHeaderTopTimer=0,fixedHeaderTopTimer=setTimeout(function(){$(".content-wrapper").css("margin-top",""),$header.css("height",""),$header.css("background",""),$header.css("border-bottom",""),$header.css("opacity",""),$header.css("position",""),$header.css("top",""),$header.css("left",""),$header.css("z-index",""),$topButton.css("top",t+10+"px"),0<$headerTitleImage.length?($headerTitle.html(""),$headerTitle.append($headerTitleImage)):$headerTitle.html(headerTitleText)},200));0<$(".floating-toc").height()&&$(".floating-toc").css("top",$headerTitle.height()+20+"px");-1<location.href.indexOf("#")&&flagForMoveToTheTitle&&(flagForMoveToTheTitle=!1,moveToTheTitle())}()}function selectMakeFloatingToc(){makeFloatingToc()}function selectAppendToc(){$("#use-floating-toc-yn").val()&&appendTocNew()}function detectTop(){0==window.scrollY&&"#"==$headerTitle.attr("href")&&$headerTitle.attr("href","/")}function foldFloatingToc(){checkMobileSize()||null!=title&&0<title.length&&!title.hasClass("close")&&clickFloatingTitle()}var previousScrollTop=0,sidebarScrollFlag=!0;function stickySidebar(){var e="";window.scrollHeight>window.innerHeight+100&&$(".sidebar div")[0].scrollHeight>window.innerHeight?(e=$(".sidebar")[0].scrollHeight-$(".sidebar")[0].scrollTop>$("#lower").offset().top+$("#lower").height()+30-window.scrollY-75?"":"100vh",sidebarScrollFlag&&(sidebarScrollFlag=!1,$(".sidebar").css("height",e),setTimeout(function(){sidebarScrollFlag=!0},50)),$(".sidebar")[0].scrollTop>window.scrollY&&previousScrollTop>window.scrollY&&$(".sidebar")[0].scrollTo(0,window.scrollY),previousScrollTop=window.scrollY):sidebarScrollFlag&&(sidebarScrollFlag=!1,$(".sidebar").css("height",""),setTimeout(function(){sidebarScrollFlag=!0},50))}function toggleCategory(){if($("#fold-category").val()){var e=Number($(".sidebar").css("right").replace("px",""));if(Number.isNaN(e)||0<e)for(var t=$(".category_list > li"),o=0;o<t.length;o++){var n=t.eq(o).find("ul.sub_category_list"),i=[],l=trim($("#fold-category-target").val());l.split(",").forEach(function(e){e&&i.push(trim(e))}),0<n.length&&(-1==i.indexOf(String(o+1))||""==l)&&controlFoldCategory(o)}}}var foldFlag=!0,tempIndex=-1;function controlFoldCategory(e){var t=$(".category_list > li"),o=$(".category_list > li > a"),n=Number.isNaN(Number($("#fold-category-speed").val()))?600:Number($("#fold-category-speed").val());o.eq(e).addClass("fold"),t.eq(e).find("ul.sub_category_list").slideUp(n,"swing"),t.eq(e).hover(function(){unfoldCategory(t,o,e,n)},function(){foldCategory(t,o,e,n).then(function(){-1!=tempIndex&&e!=tempIndex?unfoldCategory(t,o,tempIndex,n):foldCategory(t,o,e,n)}),tempIndex=-1})}function unfoldCategory(e,t,o,n){tempIndex=o;e=e.eq(o).find("ul.sub_category_list");"none"==e.css("display")&&foldFlag&&(foldFlag=!1,e.slideDown(n,"swing",function(){t.eq(o).removeClass("fold")}))}function foldCategory(o,n,i,l){return new Promise(function(e){var t=o.eq(i).find("ul.sub_category_list");"none"!=t.css("display")&&t.slideUp(l,"swing",function(){n.eq(i).addClass("fold"),foldFlag=!0,e()})})}function replaceLink(){for(var e=$(".inner a"),t=0;t<e.length;t++)e.eq(t).attr("href")&&e.eq(t).attr("href",e.eq(t).attr("href").split("?category=")[0])}var prePostFlag=!0,nextPostFlag=!0;function makeRecommendBlock(e,t){prePostFlag&&"pre"==e?(prePostFlag=!1,$("#pre-content").append($(".another_category tr").eq(t+1).find("a").clone()),$("#next-content").append('<a href="#" class="no-post">다음 글 없음</a>'),$(".content-box .content-arrow").eq(1).addClass("no-post")):nextPostFlag&&"next"==e?(nextPostFlag=!1,$("#next-content").append($(".another_category tr").eq(t-1).find("a").clone()),$("#pre-content").append('<a href="#" class="no-post">이전 글 없음</a>'),$(".content-box .content-arrow").eq(0).addClass("no-post")):prePostFlag&&nextPostFlag&&"both"==e&&(nextPostFlag=prePostFlag=!1,$("#pre-content").append($(".another_category tr").eq(t+1).find("a").clone()),$("#next-content").append($(".another_category tr").eq(t-1).find("a").clone()))}var recommendPostFlag=!0,recommendPostTimer=0,preRecommendPosition=-1,reCommendStartPosition=floatingTocPostion?"right":"left";function recommendPost(){if(0<$(".another_category").length){if(1<window.scrollY/($(".another_category").offset().top-window.innerHeight)&&window.scrollY-$(".another_category").offset().top<0&&preRecommendPosition<window.scrollY){if(recommendPostFlag){recommendPostFlag=!1;var e,t,o=$(".another_category tr"),n=-1;if(1<o.length){for(var i=0;i<o.length;i++)if(0<o.eq(i).find("a.current").length){n=i;break}0<n&&n<o.length-1?makeRecommendBlock("both",n):0==n?makeRecommendBlock("pre",n):1<o.length&&makeRecommendBlock("next",n)}prePostFlag&&nextPostFlag||0!=recommendPostTimer||(e={},t=0,t=310<window.innerWidth?10:(window.innerWidth-310)/2,$("#recommend-contents").css("bottom",addHeightByAnchorAds("bottom")+60+2*Number($("#border-size").val())+"px"),$("#recommend-contents").css(reCommendStartPosition,"-350px"),$("#recommend-contents").css("display","block"),floatingTocPostion&&$(".content-close-btn").css("right","312px"),e[reCommendStartPosition]=t+"px",$("#recommend-contents").animate(e,1e3,"swing",function(){}),recommendPostTimer=setTimeout(function(){e[reCommendStartPosition]="-350px",$("#recommend-contents").animate(e,1e3,"swing",function(){$("#recommend-contents").css("display","none"),recommendPostTimer=0})},15e3))}}else recommendPostFlag=!0;preRecommendPosition=window.scrollY}}function recommendPostClose(){$("#recommend-contents").fadeOut()}function addHeightByAnchorAds(e){return 0<$(".adsbygoogle[data-anchor-status]").length?"displayed"==$(".adsbygoogle[data-anchor-status]").attr("data-anchor-status")?"bottom"==e?$(".adsbygoogle[data-anchor-status]").offset().top>window.scrollY?$(".adsbygoogle[data-anchor-status]").height():0:"top"==e?Math.round($(".adsbygoogle[data-anchor-status]").offset().top)==Math.round(window.scrollY)?$(".adsbygoogle[data-anchor-status]").height():0:void 0:"bottom"==e?$(".adsbygoogle[data-anchor-status]").offset().top>window.scrollY?15:0:"top"==e?0:void 0:0}function commonForScroll(){$(".floating-button").css("bottom",addHeightByAnchorAds("bottom")+15+"px"),$("#wrapper").css("padding-bottom",addHeightByAnchorAds("bottom")+"px"),"none"!=$("#tistorySnsLayer").css("display")&&$("#tistorySnsLayer").css("display","none")}function refreshAds(t){$("#adsense-refresh").val()&&("init"==t?(refreshAds("recommend"),setTimeout(function(){refreshAds("sidebar")},200)):setTimeout(function(){if("recommend"==t){var e=$("#recommend-ads > ins");if(0<e.children().length){e.children().remove(),e.removeAttr("data-adsbygoogle-status");try{(adsbygoogle=window.adsbygoogle||[]).push({})}catch(e){}refreshAds("recommend")}}else if("sidebar"==t){e=$(".sidebar .revenue_unit_wrap .adsbygoogle");if(0<e.length){e.children().remove(),e.removeAttr("data-adsbygoogle-status");try{(adsbygoogle=window.adsbygoogle||[]).push({})}catch(e){}refreshAds("sidebar")}}},6e4*(Math.random()+1)))}function isChromium(){$("#alert-chromium").val()&&(window.chrome||showToast($("#alert-chromium-text").val(),"top",5e3))}function autoScroll(){$("#auto-scroll-ads").val()&&delay(200).then(function(){var e,t,o,n,i,l;0<$(".mobile-menu aside").length||(n=0<(e=$(".sidebar #recommend-ads.revenue_unit_item.adsense")).length?(e[0].scrollHeight-e.height())/e.height():0,0<e.length&&(l=0,.1<n&&(t=e[0].scrollHeight,o=e.scrollTop(),i=30*(t-(n=e.innerHeight())-o),l=t-n,Math.ceil(o+n)>=t&&(l=0,i=30*(t-n))),e.animate({scrollTop:l},i,"linear",autoScroll)))})}function autoAppendAds(){if($("#article-google-ads").val()){var e=$("#article-google-ads-type").val(),t=$(".content-article > div > div > p > ins"),o=$(".content-article > div > div > p");if((0==t.length||$("#article-google-ads-forced").val())&&0<o.length){if(0<t.length&&$("#article-google-ads-forced").val()){for(var n=0;n<t.length;n++){for(var i=t.eq(n).parent().prev(),l=t.eq(n).parent().next();;){var a=!0;if(("SCRIPT"==(b=i.prop("tagName"))||"P"==b&&"&nbsp;"==i.html())&&(i.remove(),a=!1),a)break;i=i.prev()}for(;;){var r=!0;if(("SCRIPT"==(b=l.prop("tagName"))||"P"==b&&"&nbsp;"==l.html())&&(l.remove(),r=!1),r)break;l=l.next()}}t.parent().remove()}var c='<div class="middle-ads">';c+=' <div class="revenue_unit_item adsense ad-middle-left">',c+=' <ins class="adsbygoogle middle-left"',c+=' data-ad-client="'+$("#data-ad-client").val()+'"',c+=' data-ad-slot="'+$("#article-data-ad-slot-display1").val()+'"',c+=' data-ad-format="rectangle"',c+=' data-full-width-responsive="true"',c+=' style="width:336px;"></ins></div>',c+=' <div class="revenue_unit_item adsense ad-middle-right">',c+=' <ins class="adsbygoogle middle-right"',c+=' data-ad-client="'+$("#data-ad-client").val()+'"',c+=' data-ad-slot="'+$("#article-data-ad-slot-display2").val()+'"',c+=' data-ad-format="rectangle"',c+=' data-full-width-responsive="true"',c+=' style="width:336px;"></ins>',c+=" </div></div>";var s='<p class="auto-ads-block-2"><ins class="adsbygoogle" ';s+='style="display:block;text-align:center;" ',s+='data-ad-layout="in-article" data-ad-format="fluid" ',s+='data-ad-client="'+$("#data-ad-client").val()+'" data-ad-slot="'+$("#article-data-ad-slot-inarticle").val()+'"></ins></p>';for(var d=$("#article-google-ads-frequency").val()?Number($("#article-google-ads-frequency").val()):30,g=Math.round(o.length/d*.5)+1,m=0,h="",n=0;n<g;n++){m+=1,"inarticle"!=e&&("display"==e||Math.random()<.5)?(h=c,710<=$(window).width()&&(m+=1)):h=s;var u=Math.floor(o.length/(g+1)*(n+1));o.eq(u).after(h)}for(var f=$(".content-article > div > div > div.middle-ads, .content-article > div > div > p.auto-ads-block-2"),n=0;n<f.length;n++){for(i=f.eq(n).prev(),l=f.eq(n).next();;){a=!0;if("P"==(b=i.prop("tagName"))&&"&nbsp;"==i.html()&&(i.remove(),a=!1),a)break;i=i.prev()}for(;;){r=!0;if("P"==(b=l.prop("tagName"))&&"&nbsp;"==l.html()&&(l.remove(),r=!1),r)break;l=l.next()}}for(var p=$(".content-article > div > div > div.middle-ads, .content-article > div > div > p.auto-ads-block-2"),n=0;n<p.length;n++){var b=(l=p.eq(n).next()).prop("tagName");-1<"^H2^H3^H4^".indexOf(b)&&l.before('<p data-ke-size="size16">&nbsp;</p>')}$(window).width()<710&&0<$(".ad-middle-left").length&&$(".ad-middle-left").remove(),function e(t,o){delay(100).then(function(){if(t<o){try{(adsbygoogle=window.adsbygoogle||[]).push({})}catch(e){}e(t+1,o)}})}(0,m)}}}function getParameterByName(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");e=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))}function autoTranslate(){var e=getParameterByName("trans_lang");if(""!=e&&"ko"!=e)return doGTranslateCustom("ko|"+e),!1}function search_default(){return window.location.href="/search/"+looseURIEncode(document.getElementById("search_default").value),!1}async function pushAds(e,t){var n,i;n=t,i={threshold:.1},await new Promise(function(t){var o=new IntersectionObserver(async function(e){e[0].isIntersecting&&(t(),o.disconnect())},i);o.observe(n)});try{(adsbygoogle=window.adsbygoogle||[]).push({})}catch(e){console.log(e)}}function calcDday(e){var t=new Date,e=(new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.substring(0,4),Number(e.substring(4,6))-1,e.substring(6,8)))/1e3/60/60/24;return e<0?"D"+e:0==e?"D-Day!":"D+"+e}function setDday(){var e=$("#d-day-date-1").val(),t=$("#d-day-date-2").val(),o=$("#d-day-date-3").val(),n=$("#d-day-date-4").val(),i=$("#d-day-date-5").val();e&&$("#d-day1").text(calcDday(e)),t&&$("#d-day2").text(calcDday(t)),o&&$("#d-day3").text(calcDday(o)),n&&$("#d-day4").text(calcDday(n)),i&&$("#d-day5").text(calcDday(i))}function initAllGlobalVaules(){floatingTocNew=$(".floating-toc-new"),bookToc=$(".book-toc"),contentMiddleYn=$("#content-middle-yn").val(),mobileAnimating=animating=!1,clickFloatingFlag=!(timer=0),title=null,floatingTocPostion=$("#floating-toc-position").val(),adsTocPosition=$("#ads-toc-position").val(),articleMaxWidth=Number($("#article-max-width").val()),clickContentFlag=!0,tocUnfoldYn=$("#toc-unfold-yn").val()}$(document).ready(function(){isChromium(),makeToc(),selectMakeFloatingToc(),commentControl(),commentAutoLink(),smoothScrollEvent(),initFoldReply(),updateTagsAttr(),lazyLoading(),moveToTheTitle(),makeBell(),toastAfterLike(),bgmEvents(),toggleCategory(),replaceLink(),refreshAds("init"),autoScroll(),autoAppendAds(),autoTranslate(),setDday(),common(),$(window).on("scroll resize",function(){scrollProgressBar(),selectAppendToc(),fixedRecommendAds("toc"),fixedHeader(),detectTop(),stickySidebar(),foldFloatingToc(),recommendPost(),commonForScroll()}),$(window).on("touchmove mousewheel",function(){stopScrollTimer()}),$(window).on("touch click",function(){initBgmFlag=!1})});